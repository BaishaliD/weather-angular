import { Injectable } from '@angular/core';
import { HttpClient, HttpParams } from '@angular/common/http';
import { HttpHeaders } from '@angular/common/http';

import { Observable } from 'rxjs';
import { catchError } from 'rxjs/operators';
import * as moment from 'moment';

// import { HttpErrorHandler, HandleError } from '../http-error-handler.service';

@Injectable()
export class WeatherService {
  currentData;

  onecallData = {
    lat: 22.57,
    lon: 88.36,
    timezone: 'Asia/Kolkata',
    timezone_offset: 19800,
    current: {
      dt: 1610559275,
      sunrise: 1610498923,
      sunset: 1610538074,
      temp: 18,
      feels_like: 17.09,
      pressure: 1014,
      humidity: 72,
      dew_point: 12.88,
      uvi: 0,
      clouds: 20,
      visibility: 2800,
      wind_speed: 2.57,
      wind_deg: 30,
      weather: [
        {
          id: 721,
          main: 'Haze',
          description: 'haze',
          icon: '50n',
        },
      ],
    },
    hourly: [
      {
        dt: 1610557200,
        temp: 18,
        feels_like: 17.39,
        pressure: 1014,
        humidity: 72,
        dew_point: 12.88,
        uvi: 0,
        clouds: 20,
        visibility: 10000,
        wind_speed: 2.14,
        wind_deg: 68,
        weather: [
          {
            id: 801,
            main: 'Clouds',
            description: 'few clouds',
            icon: '02n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610560800,
        temp: 17.93,
        feels_like: 16.4,
        pressure: 1014,
        humidity: 61,
        dew_point: 10.31,
        uvi: 0,
        clouds: 14,
        visibility: 10000,
        wind_speed: 2.36,
        wind_deg: 87,
        weather: [
          {
            id: 801,
            main: 'Clouds',
            description: 'few clouds',
            icon: '02n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610564400,
        temp: 17.54,
        feels_like: 15.61,
        pressure: 1014,
        humidity: 56,
        dew_point: 8.67,
        uvi: 0,
        clouds: 4,
        visibility: 10000,
        wind_speed: 2.33,
        wind_deg: 83,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610568000,
        temp: 17.1,
        feels_like: 15.13,
        pressure: 1013,
        humidity: 54,
        dew_point: 7.73,
        uvi: 0,
        clouds: 1,
        visibility: 10000,
        wind_speed: 2.05,
        wind_deg: 58,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610571600,
        temp: 16.61,
        feels_like: 14.21,
        pressure: 1013,
        humidity: 53,
        dew_point: 7,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.43,
        wind_deg: 18,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610575200,
        temp: 15.94,
        feels_like: 13.38,
        pressure: 1013,
        humidity: 55,
        dew_point: 7.15,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.63,
        wind_deg: 7,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610578800,
        temp: 15.29,
        feels_like: 12.82,
        pressure: 1013,
        humidity: 57,
        dew_point: 6.98,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.47,
        wind_deg: 6,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610582400,
        temp: 14.82,
        feels_like: 12.51,
        pressure: 1014,
        humidity: 58,
        dew_point: 6.73,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.19,
        wind_deg: 9,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610586000,
        temp: 14.58,
        feels_like: 12.2,
        pressure: 1015,
        humidity: 58,
        dew_point: 6.58,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.22,
        wind_deg: 11,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610589600,
        temp: 16.74,
        feels_like: 14.37,
        pressure: 1016,
        humidity: 51,
        dew_point: 6.83,
        uvi: 0.63,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.25,
        wind_deg: 10,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610593200,
        temp: 19.47,
        feels_like: 17.04,
        pressure: 1017,
        humidity: 44,
        dew_point: 7.09,
        uvi: 1.98,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.44,
        wind_deg: 17,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610596800,
        temp: 21.78,
        feels_like: 19.6,
        pressure: 1017,
        humidity: 40,
        dew_point: 7.81,
        uvi: 3.89,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.31,
        wind_deg: 27,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610600400,
        temp: 23.81,
        feels_like: 22.24,
        pressure: 1016,
        humidity: 39,
        dew_point: 9.09,
        uvi: 5.62,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.94,
        wind_deg: 38,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610604000,
        temp: 25.63,
        feels_like: 24.87,
        pressure: 1015,
        humidity: 38,
        dew_point: 10.41,
        uvi: 6.42,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.24,
        wind_deg: 1,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610607600,
        temp: 26.36,
        feels_like: 24.99,
        pressure: 1013,
        humidity: 36,
        dew_point: 10.49,
        uvi: 5.99,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.05,
        wind_deg: 298,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610611200,
        temp: 27.12,
        feels_like: 25.01,
        pressure: 1012,
        humidity: 33,
        dew_point: 9.79,
        uvi: 4.43,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.87,
        wind_deg: 290,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610614800,
        temp: 27.58,
        feels_like: 25.15,
        pressure: 1011,
        humidity: 31,
        dew_point: 9.02,
        uvi: 2.49,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.13,
        wind_deg: 294,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610618400,
        temp: 27.5,
        feels_like: 24.83,
        pressure: 1011,
        humidity: 30,
        dew_point: 8.43,
        uvi: 0.92,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.27,
        wind_deg: 303,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610622000,
        temp: 26.42,
        feels_like: 23.51,
        pressure: 1011,
        humidity: 31,
        dew_point: 8.34,
        uvi: 0.16,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.47,
        wind_deg: 317,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610625600,
        temp: 23.27,
        feels_like: 20.18,
        pressure: 1011,
        humidity: 37,
        dew_point: 7.87,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.67,
        wind_deg: 331,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610629200,
        temp: 21.91,
        feels_like: 18.9,
        pressure: 1012,
        humidity: 39,
        dew_point: 7.49,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.41,
        wind_deg: 341,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610632800,
        temp: 20.92,
        feels_like: 18.54,
        pressure: 1012,
        humidity: 40,
        dew_point: 7.17,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.34,
        wind_deg: 352,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610636400,
        temp: 20.08,
        feels_like: 18.29,
        pressure: 1013,
        humidity: 43,
        dew_point: 7.15,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.6,
        wind_deg: 31,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610640000,
        temp: 18.86,
        feels_like: 16.87,
        pressure: 1013,
        humidity: 47,
        dew_point: 7.62,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.95,
        wind_deg: 72,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610643600,
        temp: 17.96,
        feels_like: 15.99,
        pressure: 1013,
        humidity: 52,
        dew_point: 7.98,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.13,
        wind_deg: 92,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610647200,
        temp: 17.38,
        feels_like: 15.33,
        pressure: 1013,
        humidity: 53,
        dew_point: 7.79,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.16,
        wind_deg: 96,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610650800,
        temp: 16.52,
        feels_like: 14.85,
        pressure: 1013,
        humidity: 53,
        dew_point: 7.19,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.36,
        wind_deg: 77,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610654400,
        temp: 16.07,
        feels_like: 14.33,
        pressure: 1012,
        humidity: 53,
        dew_point: 6.7,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.33,
        wind_deg: 352,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610658000,
        temp: 15.67,
        feels_like: 13.73,
        pressure: 1012,
        humidity: 54,
        dew_point: 6.44,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.58,
        wind_deg: 333,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610661600,
        temp: 15.24,
        feels_like: 13.26,
        pressure: 1012,
        humidity: 54,
        dew_point: 6.26,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.52,
        wind_deg: 338,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610665200,
        temp: 14.85,
        feels_like: 12.87,
        pressure: 1012,
        humidity: 55,
        dew_point: 6.09,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.48,
        wind_deg: 342,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610668800,
        temp: 14.49,
        feels_like: 12.56,
        pressure: 1012,
        humidity: 56,
        dew_point: 5.84,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.39,
        wind_deg: 353,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610672400,
        temp: 14.34,
        feels_like: 12.11,
        pressure: 1013,
        humidity: 55,
        dew_point: 5.64,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.7,
        wind_deg: 360,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610676000,
        temp: 16.67,
        feels_like: 14.13,
        pressure: 1014,
        humidity: 48,
        dew_point: 5.77,
        uvi: 0.63,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.2,
        wind_deg: 2,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610679600,
        temp: 19.66,
        feels_like: 16.92,
        pressure: 1015,
        humidity: 40,
        dew_point: 5.8,
        uvi: 1.98,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.51,
        wind_deg: 2,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610683200,
        temp: 22.12,
        feels_like: 19.48,
        pressure: 1015,
        humidity: 35,
        dew_point: 6.01,
        uvi: 3.83,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.44,
        wind_deg: 4,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610686800,
        temp: 24.06,
        feels_like: 21.73,
        pressure: 1015,
        humidity: 32,
        dew_point: 6.51,
        uvi: 5.53,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.12,
        wind_deg: 0,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610690400,
        temp: 25.6,
        feels_like: 23.53,
        pressure: 1013,
        humidity: 30,
        dew_point: 7.15,
        uvi: 6.31,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.87,
        wind_deg: 326,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610694000,
        temp: 26.52,
        feels_like: 23.86,
        pressure: 1012,
        humidity: 28,
        dew_point: 6.83,
        uvi: 5.92,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.65,
        wind_deg: 297,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610697600,
        temp: 27.33,
        feels_like: 24.1,
        pressure: 1010,
        humidity: 25,
        dew_point: 6.01,
        uvi: 4.39,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.17,
        wind_deg: 292,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610701200,
        temp: 27.73,
        feels_like: 24.09,
        pressure: 1010,
        humidity: 23,
        dew_point: 5.31,
        uvi: 2.46,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.51,
        wind_deg: 292,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610704800,
        temp: 27.51,
        feels_like: 23.6,
        pressure: 1009,
        humidity: 23,
        dew_point: 4.64,
        uvi: 0.93,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.84,
        wind_deg: 298,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610708400,
        temp: 26.17,
        feels_like: 22.2,
        pressure: 1009,
        humidity: 24,
        dew_point: 4.21,
        uvi: 0.17,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.79,
        wind_deg: 312,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610712000,
        temp: 22.81,
        feels_like: 18.79,
        pressure: 1010,
        humidity: 26,
        dew_point: 2.64,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 3.42,
        wind_deg: 326,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610715600,
        temp: 21.49,
        feels_like: 17.62,
        pressure: 1010,
        humidity: 26,
        dew_point: 1.6,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.94,
        wind_deg: 339,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610719200,
        temp: 20.79,
        feels_like: 17.18,
        pressure: 1011,
        humidity: 26,
        dew_point: 0.91,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.44,
        wind_deg: 355,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610722800,
        temp: 19.99,
        feels_like: 16.58,
        pressure: 1012,
        humidity: 26,
        dew_point: 0.43,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 2.01,
        wind_deg: 21,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
      {
        dt: 1610726400,
        temp: 19.03,
        feels_like: 15.92,
        pressure: 1012,
        humidity: 28,
        dew_point: 0.23,
        uvi: 0,
        clouds: 0,
        visibility: 10000,
        wind_speed: 1.63,
        wind_deg: 44,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01n',
          },
        ],
        pop: 0,
      },
    ],
    daily: [
      {
        dt: 1610515800,
        sunrise: 1610498923,
        sunset: 1610538074,
        temp: {
          day: 23.7,
          min: 15.34,
          max: 27.1,
          night: 18,
          eve: 26.43,
          morn: 15.92,
        },
        feels_like: {
          day: 20.86,
          night: 17.39,
          eve: 25.1,
          morn: 12.89,
        },
        pressure: 1016,
        humidity: 35,
        dew_point: 7.66,
        wind_speed: 3.17,
        wind_deg: 17,
        weather: [
          {
            id: 802,
            main: 'Clouds',
            description: 'scattered clouds',
            icon: '03d',
          },
        ],
        clouds: 27,
        pop: 0,
        uvi: 6.39,
      },
      {
        dt: 1610602200,
        sunrise: 1610585326,
        sunset: 1610624516,
        temp: {
          day: 23.81,
          min: 14.58,
          max: 27.58,
          night: 17.96,
          eve: 26.42,
          morn: 15.29,
        },
        feels_like: {
          day: 22.24,
          night: 15.99,
          eve: 23.51,
          morn: 12.82,
        },
        pressure: 1016,
        humidity: 39,
        dew_point: 9.09,
        wind_speed: 1.94,
        wind_deg: 38,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 6.42,
      },
      {
        dt: 1610688600,
        sunrise: 1610671727,
        sunset: 1610710958,
        temp: {
          day: 24.06,
          min: 14.34,
          max: 27.73,
          night: 17.88,
          eve: 26.17,
          morn: 14.85,
        },
        feels_like: {
          day: 21.73,
          night: 15.22,
          eve: 22.2,
          morn: 12.87,
        },
        pressure: 1015,
        humidity: 32,
        dew_point: 6.51,
        wind_speed: 2.12,
        wind_deg: 0,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 6.31,
      },
      {
        dt: 1610775000,
        sunrise: 1610758126,
        sunset: 1610797400,
        temp: {
          day: 24.47,
          min: 13.62,
          max: 27.93,
          night: 16.71,
          eve: 26.4,
          morn: 14.11,
        },
        feels_like: {
          day: 22.08,
          night: 14.05,
          eve: 22.47,
          morn: 11.58,
        },
        pressure: 1013,
        humidity: 25,
        dew_point: 3.53,
        wind_speed: 1.3,
        wind_deg: 316,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 6.36,
      },
      {
        dt: 1610861400,
        sunrise: 1610844525,
        sunset: 1610883843,
        temp: {
          day: 26.43,
          min: 14.45,
          max: 28.25,
          night: 17.54,
          eve: 23.2,
          morn: 14.45,
        },
        feels_like: {
          day: 23.24,
          night: 15.42,
          eve: 19.52,
          morn: 11.92,
        },
        pressure: 1014,
        humidity: 20,
        dew_point: 1.96,
        wind_speed: 2.09,
        wind_deg: 23,
        weather: [
          {
            id: 802,
            main: 'Clouds',
            description: 'scattered clouds',
            icon: '03d',
          },
        ],
        clouds: 46,
        pop: 0,
        uvi: 6.37,
      },
      {
        dt: 1610947800,
        sunrise: 1610930922,
        sunset: 1610970285,
        temp: {
          day: 27.13,
          min: 15.16,
          max: 28.84,
          night: 18.18,
          eve: 23.54,
          morn: 15.16,
        },
        feels_like: {
          day: 24.44,
          night: 16.95,
          eve: 20.72,
          morn: 12.84,
        },
        pressure: 1014,
        humidity: 21,
        dew_point: 2.98,
        wind_speed: 1.67,
        wind_deg: 356,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        clouds: 0,
        pop: 0,
        uvi: 7,
      },
      {
        dt: 1611034200,
        sunrise: 1611017317,
        sunset: 1611056728,
        temp: {
          day: 29.56,
          min: 17.72,
          max: 29.56,
          night: 21.15,
          eve: 24.39,
          morn: 18.02,
        },
        feels_like: {
          day: 26.92,
          night: 21.91,
          eve: 23.02,
          morn: 18.4,
        },
        pressure: 1011,
        humidity: 39,
        dew_point: 14.18,
        wind_speed: 5.64,
        wind_deg: 212,
        weather: [
          {
            id: 801,
            main: 'Clouds',
            description: 'few clouds',
            icon: '02d',
          },
        ],
        clouds: 17,
        pop: 0,
        uvi: 7,
      },
      {
        dt: 1611120600,
        sunrise: 1611103712,
        sunset: 1611143170,
        temp: {
          day: 28.18,
          min: 19.44,
          max: 29.91,
          night: 19.44,
          eve: 25.21,
          morn: 19.8,
        },
        feels_like: {
          day: 26.35,
          night: 18.91,
          eve: 22.31,
          morn: 22.32,
        },
        pressure: 1011,
        humidity: 35,
        dew_point: 11.55,
        wind_speed: 3.18,
        wind_deg: 344,
        weather: [
          {
            id: 800,
            main: 'Clear',
            description: 'clear sky',
            icon: '01d',
          },
        ],
        clouds: 2,
        pop: 0.03,
        uvi: 7,
      },
    ],
  };

  weatherData = {
    "coord": {
    "lon": 88.3597,
    "lat": 22.5719
    },
    "weather": [
    {
    "id": 721,
    "main": "Haze",
    "description": "haze",
    "icon": "50n"
    }
    ],
    "base": "stations",
    "main": {
    "temp": 18,
    "feels_like": 17.09,
    "temp_min": 18,
    "temp_max": 18,
    "pressure": 1014,
    "humidity": 72
    },
    "visibility": 2800,
    "wind": {
    "speed": 2.57,
    "deg": 40
    },
    "clouds": {
    "all": 20
    },
    "dt": 1610563088,
    "sys": {
    "type": 1,
    "id": 9114,
    "country": "IN",
    "sunrise": 1610585326,
    "sunset": 1610624516
    },
    "timezone": 19800,
    "id": 1275004,
    "name": "Kolkata",
    "cod": 200
  };

  constructor(private http: HttpClient) {
    // this.handleError = httpErrorHandler.createHandleError('HeroesService');
    // console.log("Processed data", this.processedData);
  }

  /** GET weather data from the API */

  getCurrentData(lat, lon): Observable<any> {
    // return this.http.get<any>(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=d1c89c358b546c83385c653a44f42390`);
    // .pipe(
    //   catchError((err)=>{})
    // );

    let ob$ = new Observable((observer) => {
      observer.next(this.weatherData);
    });
    return ob$;
  }

  getAllData(lat, lon): Observable<any> {
    // return this.http.get<any>(
    //   `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=minutely,alerts&units=metric&appid=d1c89c358b546c83385c653a44f42390`
    // );
    // .pipe(
    //   catchError((err)=>{})
    // );

    let ob$ = new Observable((observer) => {
      observer.next(this.onecallData);
    });
    return ob$;
  }
}
